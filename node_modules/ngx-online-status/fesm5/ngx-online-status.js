import { __decorate, __metadata } from 'tslib';
import { Injectable, EventEmitter, NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';

var OnlineStatusType;
(function (OnlineStatusType) {
    OnlineStatusType[OnlineStatusType["OFFLINE"] = 0] = "OFFLINE";
    OnlineStatusType[OnlineStatusType["ONLINE"] = 1] = "ONLINE";
})(OnlineStatusType || (OnlineStatusType = {}));

var OnlineStatusService = /** @class */ (function () {
    function OnlineStatusService() {
        this.status = new EventEmitter(true);
        this.bind();
        window.addEventListener(OnlineStatusService_1.EVENT_TYPE_ONLINE, this.onOnline);
        window.addEventListener(OnlineStatusService_1.EVENT_TYPE_OFFLINE, this.onOffline);
    }
    OnlineStatusService_1 = OnlineStatusService;
    OnlineStatusService.prototype.ngOnDestroy = function () {
        window.removeEventListener(OnlineStatusService_1.EVENT_TYPE_ONLINE, this.onOnline);
        window.removeEventListener(OnlineStatusService_1.EVENT_TYPE_OFFLINE, this.onOffline);
    };
    OnlineStatusService.prototype.bind = function () {
        this.onOnline = this.onOnline.bind(this);
        this.onOffline = this.onOffline.bind(this);
    };
    OnlineStatusService.prototype.onOnline = function () {
        this.status.emit(OnlineStatusType.ONLINE);
    };
    OnlineStatusService.prototype.onOffline = function () {
        this.status.emit(OnlineStatusType.OFFLINE);
    };
    var OnlineStatusService_1;
    OnlineStatusService.EVENT_TYPE_ONLINE = 'online';
    OnlineStatusService.EVENT_TYPE_OFFLINE = 'offline';
    OnlineStatusService = OnlineStatusService_1 = __decorate([
        Injectable(),
        __metadata("design:paramtypes", [])
    ], OnlineStatusService);
    return OnlineStatusService;
}());

var OnlineStatusModule = /** @class */ (function () {
    function OnlineStatusModule() {
    }
    OnlineStatusModule = __decorate([
        NgModule({
            imports: [
                CommonModule
            ],
            declarations: [],
            providers: [
                OnlineStatusService
            ]
        })
    ], OnlineStatusModule);
    return OnlineStatusModule;
}());

export { OnlineStatusModule, OnlineStatusService, OnlineStatusType };
//# sourceMappingURL=ngx-online-status.js.map
