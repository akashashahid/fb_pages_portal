(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/common')) :
    typeof define === 'function' && define.amd ? define('ngx-online-status', ['exports', '@angular/core', '@angular/common'], factory) :
    (global = global || self, factory(global['ngx-online-status'] = {}, global.ng.core, global.ng.common));
}(this, function (exports, core, common) { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */

    function __decorate(decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }

    function __metadata(metadataKey, metadataValue) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
    }

    (function (OnlineStatusType) {
        OnlineStatusType[OnlineStatusType["OFFLINE"] = 0] = "OFFLINE";
        OnlineStatusType[OnlineStatusType["ONLINE"] = 1] = "ONLINE";
    })(exports.OnlineStatusType || (exports.OnlineStatusType = {}));

    var OnlineStatusService = /** @class */ (function () {
        function OnlineStatusService() {
            this.status = new core.EventEmitter(true);
            this.bind();
            window.addEventListener(OnlineStatusService_1.EVENT_TYPE_ONLINE, this.onOnline);
            window.addEventListener(OnlineStatusService_1.EVENT_TYPE_OFFLINE, this.onOffline);
        }
        OnlineStatusService_1 = OnlineStatusService;
        OnlineStatusService.prototype.ngOnDestroy = function () {
            window.removeEventListener(OnlineStatusService_1.EVENT_TYPE_ONLINE, this.onOnline);
            window.removeEventListener(OnlineStatusService_1.EVENT_TYPE_OFFLINE, this.onOffline);
        };
        OnlineStatusService.prototype.bind = function () {
            this.onOnline = this.onOnline.bind(this);
            this.onOffline = this.onOffline.bind(this);
        };
        OnlineStatusService.prototype.onOnline = function () {
            this.status.emit(exports.OnlineStatusType.ONLINE);
        };
        OnlineStatusService.prototype.onOffline = function () {
            this.status.emit(exports.OnlineStatusType.OFFLINE);
        };
        var OnlineStatusService_1;
        OnlineStatusService.EVENT_TYPE_ONLINE = 'online';
        OnlineStatusService.EVENT_TYPE_OFFLINE = 'offline';
        OnlineStatusService = OnlineStatusService_1 = __decorate([
            core.Injectable(),
            __metadata("design:paramtypes", [])
        ], OnlineStatusService);
        return OnlineStatusService;
    }());

    var OnlineStatusModule = /** @class */ (function () {
        function OnlineStatusModule() {
        }
        OnlineStatusModule = __decorate([
            core.NgModule({
                imports: [
                    common.CommonModule
                ],
                declarations: [],
                providers: [
                    OnlineStatusService
                ]
            })
        ], OnlineStatusModule);
        return OnlineStatusModule;
    }());

    exports.OnlineStatusModule = OnlineStatusModule;
    exports.OnlineStatusService = OnlineStatusService;

    Object.defineProperty(exports, '__esModule', { value: true });

}));
//# sourceMappingURL=ngx-online-status.umd.js.map
