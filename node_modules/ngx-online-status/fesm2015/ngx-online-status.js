import { __decorate, __metadata } from 'tslib';
import { EventEmitter, Injectable, NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';

var OnlineStatusType;
(function (OnlineStatusType) {
    OnlineStatusType[OnlineStatusType["OFFLINE"] = 0] = "OFFLINE";
    OnlineStatusType[OnlineStatusType["ONLINE"] = 1] = "ONLINE";
})(OnlineStatusType || (OnlineStatusType = {}));

var OnlineStatusService_1;
let OnlineStatusService = OnlineStatusService_1 = class OnlineStatusService {
    constructor() {
        this.status = new EventEmitter(true);
        this.bind();
        window.addEventListener(OnlineStatusService_1.EVENT_TYPE_ONLINE, this.onOnline);
        window.addEventListener(OnlineStatusService_1.EVENT_TYPE_OFFLINE, this.onOffline);
    }
    ngOnDestroy() {
        window.removeEventListener(OnlineStatusService_1.EVENT_TYPE_ONLINE, this.onOnline);
        window.removeEventListener(OnlineStatusService_1.EVENT_TYPE_OFFLINE, this.onOffline);
    }
    bind() {
        this.onOnline = this.onOnline.bind(this);
        this.onOffline = this.onOffline.bind(this);
    }
    onOnline() {
        this.status.emit(OnlineStatusType.ONLINE);
    }
    onOffline() {
        this.status.emit(OnlineStatusType.OFFLINE);
    }
};
OnlineStatusService.EVENT_TYPE_ONLINE = 'online';
OnlineStatusService.EVENT_TYPE_OFFLINE = 'offline';
OnlineStatusService = OnlineStatusService_1 = __decorate([
    Injectable(),
    __metadata("design:paramtypes", [])
], OnlineStatusService);

let OnlineStatusModule = class OnlineStatusModule {
};
OnlineStatusModule = __decorate([
    NgModule({
        imports: [
            CommonModule
        ],
        declarations: [],
        providers: [
            OnlineStatusService
        ]
    })
], OnlineStatusModule);

export { OnlineStatusModule, OnlineStatusService, OnlineStatusType };
//# sourceMappingURL=ngx-online-status.js.map
